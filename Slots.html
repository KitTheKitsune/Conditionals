<html>
    <!-- Slot Machine -->
    <!-- by Kendrick Smith-->
    <!-- V0.2 21 Nov 2019 -->
    
    <head>
        <title>Slot Machine</title>
    
        <script>
        function Spin (window)
            {
            //variables
            roll = Math.random();
            
            //calc
            if (roll < .0729){
                roll = 'LuckySeven';
            }else if (roll < .2349){
                roll = 'Triforce';
            }else if (roll < .5155){
                roll = 'Shield';
            }else if (roll < .915){
                roll = 'Sword';
            }else if (roll < 1){
                roll = 'Moblin';
            };
                
            //output
            document.getElementById(window).src = roll + ".png";
            
        };
        function DummySpin (window)
        {
        //variables
        roll = Math.random();

        //calc
        if (roll < .0379){
            roll = 'LuckySeven';
        }else if (roll < .1199){
            roll = 'Triforce';
        }else if (roll < .2655){
            roll = 'Shield';
        }else if (roll < .465){
            roll = 'Sword';
        }else if (roll < 1){
            roll = 'Moblin';
        };

        //output
        document.getElementById(window).src = roll + ".png";
            
        };
        function HyperSpin(){
            if (Math.random() < .6){
                roll = 'Triforce';
            } else {
                roll = 'LuckySeven';
            };
            
            //output
            document.getElementById('windowOne').src = roll + ".png";
            document.getElementById('windowTwo').src = roll + ".png";
            document.getElementById('windowThree').src = roll + ".png";
        };
            
        function WinCheck(input){
            One = document.getElementById('windowOne').src.substr(document.getElementById('windowOne').src.lastIndexOf('/'));
            Two = document.getElementById('windowTwo').src.substr(document.getElementById('windowTwo').src.lastIndexOf('/'));
            Three = document.getElementById('windowThree').src.substr(document.getElementById('windowTwo').src.lastIndexOf('/'));
            output = 0;
            
            if(One == Two && Two == Three){
                if(One == '/LuckySeven.png'){
                    output = input * 1000;
                } else if (One == '/Triforce.png'){
                    output = input * 20;
                } else if (One == '/Shield.png'){
                    output = input * 5;
                } else if (One == '/Sword.png'){
                    output = input * 1;
                }
            
            
                money = 1*(document.getElementById('money').innerHTML);
                winnings = 1*(document.getElementById('winnings').innerHTML);
                document.getElementById('money').innerHTML = Math.round(100*(money + output))/100;
                document.getElementById('output').innerHTML = "You Won $" + output;
                document.getElementById('winnings').innerHTML = Math.round(100*(winnings + output))/100;
                
                };
            };
        </script>
    
    </head>

    <body style="text-align: center">
        
    <h1>Zelda Slots</h1>
    
    <img id="windowOne" src="LuckySeven.png" width="300px" height="450px">
    <img id="windowTwo" src="Triforce.png" width="300px" height="450px">
    <img id="windowThree" src="LuckySeven.png" width="300px" height="450px">
     
    <br> 
    <br>
    <hr>
    <p>Input Coins</p> <input value="0.25" type="number" id="input">    
    <button onclick="
                     money = 1*document.getElementById('money').innerHTML;
                     input = 1*document.getElementById('input').value;
                     
                     if (money - input >= 0 && input > 0){
                        document.getElementById('money').innerHTML = Math.round(100*(money - input))/100;
                     
                        if (Math.random() > 0.99){
                            HyperSpin();
                        } else {
                            Spin('windowOne');
                            Spin('windowTwo');
                            DummySpin('windowThree');
                        }
                     
                        WinCheck(document.getElementById('input').value);
                     }else{
                        window.alert('You Cannot Make That Bid!');
                     }
                     
                     
                     
    ">Click to Spin</button>
    <hr>
        
    <p style="text-align: left">Cash: $<span id="money">200.00</span></p>
    <p style="text-align: right">Total Winnings: $<span id="winnings">0.00</span></p>
        
    <p id="output"></p>
        
    <hr>
    <h3>Multi-Spin Function</h3>
    <p>make a number of 1 cent spins equal to the cash input above</p>
    <button onclick="
                    money = 1*document.getElementById('money').innerHTML;
                    input = 1*document.getElementById('input').value;
                    num = input/0.01;
                    
                     if (money - input >= 0 && input > 0){
                        for(i=0;i<num;i++){
                        document.getElementById('money').innerHTML = Math.round(100*(money - 0.01))/100;
                     
                        if (Math.random() > 0.99){
                            HyperSpin();
                        } else {
                            Spin('windowOne');
                            Spin('windowTwo');
                            Spin('windowThree');
                        }
                     
                        WinCheck(0.01);
                        }
                     }else{
                        window.alert('You Cannot Make That Bid!');
                     }
                   
    ">Spin</button>
    </body>
</html>